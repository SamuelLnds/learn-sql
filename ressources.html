<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ressources SQL ‚Äì Apprendre SQL</title>

    <!-- Scripts principaux -->
    <script src="app.js" defer></script>

    <!-- Feuilles de style -->
    <link rel="stylesheet" href="styles/main.css" />
    <link rel="stylesheet" href="styles/code.css" />
    <link rel="stylesheet" href="styles/ressources.css" />
    <link rel="stylesheet" href="styles/style.css" />

    <!-- Composants Web -->
    <script src="components/header.js" defer></script>
    <script src="components/footer.js" defer></script>
  </head>
  <body>
    <my-header></my-header>

    <aside id="toc">
      <button id="toc-toggle" aria-label="Afficher le sommaire" aria-expanded="false">‚ò∞ Sommaire</button>
      <nav>
        <h2>üß≠ Sommaire</h2>
        <ul id="toc-list">
          <!-- Rempli dynamiquement par JS -->
        </ul>
      </nav>
    </aside>    

    <main>
      <h1>üìö Ressources SQL</h1>
    
      <section>
        <h2>üß© Clauses de base</h2>
    
        <article>
          <h3><code>SELECT</code> / <code>FROM</code></h3>
          <p>
            En SQL, une requ√™te commence presque toujours par la clause <code class="sql-keyword">SELECT</code>, suivie de la clause <code class="sql-keyword">FROM</code>.
          </p>
          
          <ul>
            <li><code class="sql-keyword">SELECT</code> : indique quelles colonnes doivent √™tre affich√©es en r√©sultat.</li>
            <li><code class="sql-keyword">FROM</code> : d√©signe la table (ou les tables) o√π aller chercher les donn√©es.</li>
          </ul>
          
          <p>On peut aussi utiliser <code class="sql-keyword">*</code> pour dire "toutes les colonnes". Mais c'est rarement recommand√© pour des raisons de performance.</p>
          <br>
          <p><strong>Exemple :</strong> afficher le nom et l‚Äô√¢ge des animaux.</p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> nom, age 
<span class="sql-keyword">FROM</span> <span class="sql-table">animaux</span>;
          </code></pre>
        
          <p><strong>Table <code>animaux</code> :</strong></p>
          <div class="result-block">
            <table>
              <thead>
                <tr><th>id</th><th>nom</th><th>age</th><th>espece</th></tr>
              </thead>
              <tbody>
                <tr><td>1</td><td>Rex</td><td>5</td><td>Chien</td></tr>
                <tr><td>2</td><td>Mia</td><td>3</td><td>Chat</td></tr>
                <tr><td>3</td><td>Leo</td><td>4</td><td>Lion</td></tr>
              </tbody>
            </table>
          </div>
        
          <p><strong>R√©sultat :</strong></p>
          <div class="result-block">
            <table>
              <thead>
                <tr><th>nom</th><th>age</th></tr>
              </thead>
              <tbody>
                <tr><td>Rex</td><td>5</td></tr>
                <tr><td>Mia</td><td>3</td></tr>
                <tr><td>Leo</td><td>4</td></tr>
              </tbody>
            </table>
          </div>
        </article>

        <article>
          <h3><code>AS</code> ‚Äì Renommer une colonne ou une table</h3>
          <p>
            La clause <code class="sql-keyword">AS</code> permet d‚Äôattribuer un alias, c‚Äôest-√†-dire un nom temporaire, √† une colonne ou √† une table dans une requ√™te SQL.
            Cela rend le r√©sultat plus lisible ou facilite l‚Äôutilisation de noms plus courts.
          </p>
        
          <ul>
            <li>Alias de colonne : utile pour renommer une valeur calcul√©e ou am√©liorer l‚Äôintitul√© d‚Äôun champ en sortie.</li>
            <li>Alias de table : souvent utilis√© avec les jointures pour abr√©ger les noms de table.</li>
          </ul>
        
          <h4>üîπ Exemple 1 : renommer une colonne</h4>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> nom, age <span class="sql-keyword">AS</span> √¢ge_en_ann√©es
<span class="sql-keyword">FROM</span> animaux;
          </code></pre>
        
          <div class="result-block">
            <table>
              <thead><tr><th>nom</th><th>√¢ge_en_ann√©es</th></tr></thead>
              <tbody>
                <tr><td>Rex</td><td>5</td></tr>
                <tr><td>Mia</td><td>3</td></tr>
                <tr><td>Leo</td><td>4</td></tr>
              </tbody>
            </table>
          </div>
        
          <h4>üîπ Exemple 2 : alias de table dans une jointure</h4>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> a.nom, d.adoptant
<span class="sql-keyword">FROM</span> animaux <span class="sql-keyword">AS</span> a
<span class="sql-keyword">JOIN</span> adoptions <span class="sql-keyword">AS</span> d <span class="sql-keyword">ON</span> a.id = d.animal_id;
          </code></pre>
        
          <p>Ici, <code>a</code> est un alias pour <code>animaux</code> et <code>d</code> pour <code>adoptions</code>. Cela √©vite de r√©p√©ter les noms de table en entier dans les champs s√©lectionn√©s.</p>
        </article>        
      </section>

      <section>
        <h2>üîç Filtres de s√©lection</h2>
      
        <article>
          <p class="example-table">Table d'exemple : <code>animaux</code></p>
          <p>Voici une table de r√©f√©rence utilis√©e dans les exemples ci-dessous :</p>
          <div class="result-block">
            <table>
              <thead>
                <tr><th>id</th><th>nom</th><th>age</th><th>espece</th></tr>
              </thead>
              <tbody>
                <tr><td>1</td><td>Rex</td><td>5</td><td>Chien</td></tr>
                <tr><td>2</td><td>Mia</td><td>3</td><td>Chat</td></tr>
                <tr><td>3</td><td>Leo</td><td>4</td><td>Lion</td></tr>
                <tr><td>4</td><td>Tigrou</td><td>2</td><td>Tigre</td></tr>
                <tr><td>5</td><td>Nina</td><td>1</td><td>Chien</td></tr>
                <tr><td>6</td><td>Oscar</td><td>6</td><td>Chat</td></tr>
                <tr><td>7</td><td>Max</td><td>7</td><td>Chien</td></tr>
              </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3><code>WHERE</code></h3>
          <p>La clause <code class="sql-keyword">WHERE</code> permet de filtrer les lignes d‚Äôune table en fonction de conditions. Elle suit la clause <code class="sql-keyword">FROM</code> et peut utiliser des op√©rateurs :</p>
          <ul>
            <li><code>=</code> : √©gal</li>
            <li><code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code> : comparaisons</li>
            <li><code>&lt;&gt;</code> : diff√©rent</li>
          </ul>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> nom, age
<span class="sql-keyword">FROM</span> animaux
<span class="sql-keyword">WHERE</span> age &gt; 4;
          </code></pre>
          <div class="result-block">
            <table><thead><tr><th>nom</th><th>age</th></tr></thead>
            <tbody>
              <tr><td>Rex</td><td>5</td></tr>
              <tr><td>Oscar</td><td>6</td></tr>
              <tr><td>Max</td><td>7</td></tr>
            </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3><code>AND</code></h3>
          <p>Permet de combiner plusieurs conditions. Toutes doivent √™tre vraies pour qu‚Äôune ligne soit conserv√©e.</p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> nom, age, espece
<span class="sql-keyword">FROM</span> animaux
<span class="sql-keyword">WHERE</span> age &gt; 4 <span class="sql-keyword">AND</span> espece = 'Chien';
          </code></pre>
          <div class="result-block">
            <table><thead><tr><th>nom</th><th>age</th><th>espece</th></tr></thead>
            <tbody>
              <tr><td>Rex</td><td>5</td><td>Chien</td></tr>
              <tr><td>Max</td><td>7</td><td>Chien</td></tr>
            </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3><code>OR</code></h3>
          <p>Conserve les lignes qui remplissent au moins une des conditions.</p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> nom, espece
<span class="sql-keyword">FROM</span> animaux
<span class="sql-keyword">WHERE</span> espece = 'Chien' <span class="sql-keyword">OR</span> espece = 'Chat';
          </code></pre>
          <div class="result-block">
            <table><thead><tr><th>nom</th><th>espece</th></tr></thead>
            <tbody>
              <tr><td>Rex</td><td>Chien</td></tr>
              <tr><td>Mia</td><td>Chat</td></tr>
              <tr><td>Nina</td><td>Chien</td></tr>
              <tr><td>Oscar</td><td>Chat</td></tr>
              <tr><td>Max</td><td>Chien</td></tr>
            </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3><code>IN</code></h3>
          <p>Permet de tester si une valeur est pr√©sente dans une liste. Plus lisible qu‚Äôune suite de <code>OR</code>.</p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> nom, espece
<span class="sql-keyword">FROM</span> animaux
<span class="sql-keyword">WHERE</span> espece <span class="sql-keyword">IN</span> ('Chien', 'Chat', 'Lion');
          </code></pre>
          <div class="result-block">
            <table><thead><tr><th>nom</th><th>espece</th></tr></thead>
            <tbody>
              <tr><td>Rex</td><td>Chien</td></tr>
              <tr><td>Mia</td><td>Chat</td></tr>
              <tr><td>Leo</td><td>Lion</td></tr>
              <tr><td>Nina</td><td>Chien</td></tr>
              <tr><td>Oscar</td><td>Chat</td></tr>
              <tr><td>Max</td><td>Chien</td></tr>
            </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3><code>LIKE</code></h3>
          <p>Permet de filtrer selon un motif (pattern).</p>
          <ul>
            <li><code>%</code> : plusieurs caract√®res</li>
            <li><code>_</code> : un seul caract√®re</li>
          </ul>
          <p><strong>Exemple :</strong> noms commen√ßant par M :</p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> nom
<span class="sql-keyword">FROM</span> animaux
<span class="sql-keyword">WHERE</span> nom <span class="sql-keyword">LIKE</span> 'M%';
          </code></pre>
          <div class="result-block">
            <table><thead><tr><th>nom</th></tr></thead>
            <tbody>
              <tr><td>Mia</td></tr>
              <tr><td>Max</td></tr>
            </tbody>
            </table>
          </div>
        </article> 

      </section>

      <section>
        <h2>üîó Jointures entre tables</h2>
      
        <p>
          Une <strong>jointure</strong> permet de combiner les donn√©es de plusieurs tables gr√¢ce √† une colonne commune (souvent une cl√© √©trang√®re).
          Cela permet d‚Äôexploiter des relations entre les entit√©s, par exemple : associer un animal √† son adoptant.
        </p>
      
        <article>
          <p class="example-table">Tables d'exemple</p>
      
          <p><strong>Table <code>animaux</code></strong> :</p>
          <div class="result-block">
            <table>
              <thead><tr><th>id</th><th>nom</th><th>espece</th></tr></thead>
              <tbody>
                <tr><td>1</td><td>Rex</td><td>Chien</td></tr>
                <tr><td>2</td><td>Mia</td><td>Chat</td></tr>
                <tr><td>3</td><td>Leo</td><td>Lion</td></tr>
              </tbody>
            </table>
          </div>
      
          <p><strong>Table <code>adoptions</code></strong> :</p>
          <div class="result-block">
            <table>
              <thead><tr><th>id</th><th>animal_id</th><th>adoptant</th></tr></thead>
              <tbody>
                <tr><td>1</td><td>1</td><td>Camille</td></tr>
                <tr><td>2</td><td>3</td><td>Lucas</td></tr>
              </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3><code>INNER JOIN</code> ‚Äì Lignes correspondantes uniquement</h3>
          <p>
            Ne garde que les lignes o√π une correspondance existe dans <em>les deux</em> tables.
            Ici, seuls les animaux qui ont √©t√© adopt√©s s‚Äôaffichent.
          </p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> a.nom, d.adoptant
<span class="sql-keyword">FROM</span> animaux a
<span class="sql-keyword">INNER JOIN</span> adoptions d <span class="sql-keyword">ON</span> a.id = d.animal_id;
          </code></pre>
          <div class="result-block">
            <table>
              <thead><tr><th>nom</th><th>adoptant</th></tr></thead>
              <tbody>
                <tr><td>Rex</td><td>Camille</td></tr>
                <tr><td>Leo</td><td>Lucas</td></tr>
              </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3><code>LEFT JOIN</code> ‚Äì Tous les √©l√©ments de gauche</h3>
          <p>
            Affiche tous les animaux, m√™me s‚Äôils n‚Äôont pas √©t√© adopt√©s. Si aucun adoptant n‚Äôest trouv√©, la colonne est remplie par <code>NULL</code>.
          </p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> a.nom, d.adoptant
<span class="sql-keyword">FROM</span> animaux a
<span class="sql-keyword">LEFT JOIN</span> adoptions d <span class="sql-keyword">ON</span> a.id = d.animal_id;
          </code></pre>
          <div class="result-block">
            <table>
              <thead><tr><th>nom</th><th>adoptant</th></tr></thead>
              <tbody>
                <tr><td>Rex</td><td>Camille</td></tr>
                <tr><td>Mia</td><td></td></tr>
                <tr><td>Leo</td><td>Lucas</td></tr>
              </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3><code>RIGHT JOIN</code> ‚Äì Tous les √©l√©ments de droite</h3>
          <p>
            Affiche tous les enregistrements d‚Äôadoptions, m√™me si aucun animal correspondant n‚Äôest trouv√© dans <code>animaux</code>. 
            Peu courant, et non support√© par SQLite.
          </p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> a.nom, d.adoptant
<span class="sql-keyword">FROM</span> animaux a
<span class="sql-keyword">RIGHT JOIN</span> adoptions d <span class="sql-keyword">ON</span> a.id = d.animal_id;
          </code></pre>
          <div class="result-block">
            <table>
              <thead><tr><th>nom</th><th>adoptant</th></tr></thead>
              <tbody>
                <tr><td>Rex</td><td>Camille</td></tr>
                <tr><td>Leo</td><td>Lucas</td></tr>
              </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3>üí° Trouver les non-adopt√©s (LEFT JOIN + <code>IS NULL</code>)</h3>
          <p>
            Pour identifier les animaux qui n‚Äôont <strong>aucun</strong> enregistrement d‚Äôadoption, on utilise un <code>LEFT JOIN</code> suivi d‚Äôun filtre <code>WHERE ... IS NULL</code>.
          </p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> a.nom
<span class="sql-keyword">FROM</span> animaux a
<span class="sql-keyword">LEFT JOIN</span> adoptions d <span class="sql-keyword">ON</span> a.id = d.animal_id
<span class="sql-keyword">WHERE</span> d.id <span class="sql-keyword">IS NULL</span>;
          </code></pre>
          <div class="result-block">
            <table>
              <thead><tr><th>nom</th></tr></thead>
              <tbody>
                <tr><td>Mia</td></tr>
              </tbody>
            </table>
          </div>
        </article>
      
      </section>      
      
      <section>
        <h2>üìä Agr√©gation, regroupement et tri</h2>
      
        <p>
          SQL permet de faire plus que simplement afficher des lignes : on peut agr√©ger les donn√©es pour obtenir des totaux, des moyennes, des comptages, etc. 
          Ces op√©rations sont souvent associ√©es √† <code class="sql-keyword">GROUP BY</code> pour regrouper les lignes similaires, et √† <code class="sql-keyword">ORDER BY</code> pour trier les r√©sultats.
        </p>
      
        <p>
          Les fonctions d‚Äôagr√©gation incluent : <code>COUNT()</code>, <code>SUM()</code>, <code>AVG()</code>, <code>MIN()</code>, <code>MAX()</code>. 
          Lorsqu'on les utilise avec <code>GROUP BY</code>, chaque groupe devient une ligne du r√©sultat.
        </p>
      
        <article>
          <p class="example-table">Table <code>ventes</code></p>
          <p>Table d‚Äôexemple utilis√©e dans les articles ci-dessous :</p>
          <div class="result-block">
            <table>
              <thead><tr><th>id</th><th>client</th><th>article</th><th>quantit√©</th><th>prix_unitaire</th></tr></thead>
              <tbody>
                <tr><td>1</td><td>Alice</td><td>Stylo</td><td>10</td><td>1.5</td></tr>
                <tr><td>2</td><td>Bob</td><td>Stylo</td><td>5</td><td>1.5</td></tr>
                <tr><td>3</td><td>Alice</td><td>Cahier</td><td>3</td><td>2.0</td></tr>
                <tr><td>4</td><td>Bob</td><td>Cahier</td><td>1</td><td>2.0</td></tr>
                <tr><td>5</td><td>Alice</td><td>Gomme</td><td>2</td><td>0.5</td></tr>
              </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3><code>COUNT()</code> ‚Äì Compter les lignes</h3>
          <p>Permet de compter combien de lignes sont associ√©es √† chaque groupe.</p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> client, <span class="sql-keyword">COUNT</span>(*) <span class="sql-keyword">AS</span> nb_achats
<span class="sql-keyword">FROM</span> ventes
<span class="sql-keyword">GROUP BY</span> client;
          </code></pre>
          <div class="result-block">
            <table>
              <thead><tr><th>client</th><th>nb_achats</th></tr></thead>
              <tbody>
                <tr><td>Alice</td><td>3</td></tr>
                <tr><td>Bob</td><td>2</td></tr>
              </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3><code>SUM()</code> ‚Äì Faire la somme</h3>
          <p>Totaliser les quantit√©s par article :</p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> article, <span class="sql-keyword">SUM</span>(quantit√©) <span class="sql-keyword">AS</span> total_vendu
<span class="sql-keyword">FROM</span> ventes
<span class="sql-keyword">GROUP BY</span> article;
          </code></pre>
          <div class="result-block">
            <table>
              <thead><tr><th>article</th><th>total_vendu</th></tr></thead>
              <tbody>
                <tr><td>Stylo</td><td>15</td></tr>
                <tr><td>Cahier</td><td>4</td></tr>
                <tr><td>Gomme</td><td>2</td></tr>
              </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3><code>AVG()</code> ‚Äì Calculer une moyenne</h3>
          <p>Calcule la moyenne d‚Äôune valeur num√©rique. Ici, le prix unitaire moyen par article :</p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> article, <span class="sql-keyword">AVG</span>(prix_unitaire) <span class="sql-keyword">AS</span> prix_moyen
<span class="sql-keyword">FROM</span> ventes
<span class="sql-keyword">GROUP BY</span> article;
          </code></pre>
          <div class="result-block">
            <table>
              <thead><tr><th>article</th><th>prix_moyen</th></tr></thead>
              <tbody>
                <tr><td>Stylo</td><td>1.5</td></tr>
                <tr><td>Cahier</td><td>2.0</td></tr>
                <tr><td>Gomme</td><td>0.5</td></tr>
              </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3>Combiner les colonnes pour des calculs personnalis√©s</h3>
          <p>On peut additionner des produits, par exemple pour obtenir un chiffre d'affaires :</p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> client, <span class="sql-keyword">SUM</span>(quantit√© * prix_unitaire) <span class="sql-keyword">AS</span> chiffre_affaires
<span class="sql-keyword">FROM</span> ventes
<span class="sql-keyword">GROUP BY</span> client;
          </code></pre>
          <div class="result-block">
            <table>
              <thead><tr><th>client</th><th>chiffre_affaires</th></tr></thead>
              <tbody>
                <tr><td>Alice</td><td>21.5</td></tr>
                <tr><td>Bob</td><td>9.5</td></tr>
              </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3><code>ORDER BY</code> ‚Äì Trier les r√©sultats</h3>
          <p>Permet de trier les groupes. Par d√©faut, en ordre croissant. On peut ajouter <code>DESC</code> pour trier en d√©croissant.</p>
          <p><strong>Exemple :</strong> trier les clients selon leur chiffre d'affaires d√©croissant :</p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> client, <span class="sql-keyword">SUM</span>(quantit√© * prix_unitaire) <span class="sql-keyword">AS</span> chiffre_affaires
<span class="sql-keyword">FROM</span> ventes
<span class="sql-keyword">GROUP BY</span> client
<span class="sql-keyword">ORDER BY</span> chiffre_affaires <span class="sql-keyword">DESC</span>;
          </code></pre>
          <div class="result-block">
            <table>
              <thead><tr><th>client</th><th>chiffre_affaires</th></tr></thead>
              <tbody>
                <tr><td>Alice</td><td>21.5</td></tr>
                <tr><td>Bob</td><td>9.5</td></tr>
              </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3><code>HAVING</code> ‚Äì Filtrer les groupes</h3>
          <p><code>HAVING</code> permet de filtrer les r√©sultats <em>apr√®s</em> un regroupement. √Ä la diff√©rence de <code>WHERE</code> (qui agit ligne par ligne), <code>HAVING</code> agit groupe par groupe.</p>
          <p><strong>Exemple :</strong> afficher les clients dont le chiffre d‚Äôaffaires d√©passe 10‚ÄØ‚Ç¨ :</p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> client, <span class="sql-keyword">SUM</span>(quantit√© * prix_unitaire) <span class="sql-keyword">AS</span> chiffre_affaires
<span class="sql-keyword">FROM</span> ventes
<span class="sql-keyword">GROUP BY</span> client
<span class="sql-keyword">HAVING</span> <span class="sql-keyword">SUM</span>(quantit√© * prix_unitaire) &gt; 10;
          </code></pre>
          <div class="result-block">
            <table>
              <thead><tr><th>client</th><th>chiffre_affaires</th></tr></thead>
              <tbody>
                <tr><td>Alice</td><td>21.5</td></tr>
              </tbody>
            </table>
          </div>
          <p><strong>Remarque :</strong> les colonnes dans <code>HAVING</code> doivent √™tre agr√©g√©es ou pr√©sentes dans le <code>GROUP BY</code>.</p>
        </article>
      
      </section>      
      
      <section>
        <h2>üß† Sous-requ√™tes et comparaisons avanc√©es</h2>
        <p>
          Les <strong>sous-requ√™tes</strong> permettent d‚Äôimbriquer une requ√™te SQL √† l‚Äôint√©rieur d‚Äôune autre. Elles sont utiles pour effectuer des calculs dynamiques (ex: moyenne, total), filtrer selon des donn√©es d√©pendantes d‚Äôun autre ensemble, ou construire des tables temporaires √† la vol√©e.
        </p>
        <br>
        <p>
          Bien que puissantes, elles peuvent √™tre co√ªteuses en performance, notamment lorsqu‚Äôelles sont ex√©cut√©es ligne par ligne (dans un <code class="sql-keyword">SELECT</code> ou <code class="sql-keyword">WHERE</code>). Il est souvent pr√©f√©rable, si possible, de les remplacer par des <strong>jointures</strong> ou des <strong>common table expressions</strong> (<code>WITH</code>). Cela dit, dans les cas simples ou pour isoler une logique, elles restent une excellente solution.
        </p>
        <article>
          <p class="example-table">Table <code>produits</code></p>
          <p>Table utilis√©e dans les exemples suivants :</p>
          <div class="result-block">
            <table>
              <thead><tr><th>id</th><th>nom</th><th>prix</th><th>categorie</th></tr></thead>
              <tbody>
                <tr><td>1</td><td>Stylo</td><td>1.5</td><td>Fournitures</td></tr>
                <tr><td>2</td><td>Cahier</td><td>2.0</td><td>Fournitures</td></tr>
                <tr><td>3</td><td>Cartable</td><td>25.0</td><td>Bagagerie</td></tr>
                <tr><td>4</td><td>Calculatrice</td><td>15.0</td><td>√âlectronique</td></tr>
                <tr><td>5</td><td>Agenda</td><td>5.0</td><td>Papeterie</td></tr>
              </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3><code>WHERE</code> avec sous-requ√™te</h3>
          <p>On peut filtrer une table en comparant chaque ligne √† une valeur calcul√©e par une autre requ√™te.</p>
          <p><strong>Exemple :</strong> afficher les produits dont le prix est sup√©rieur au prix moyen :</p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> nom, prix
<span class="sql-keyword">FROM</span> produits
<span class="sql-keyword">WHERE</span> prix &gt; (
  <span class="sql-keyword">SELECT</span> <span class="sql-keyword">AVG</span>(prix) 
  <span class="sql-keyword">FROM</span> produits
);
          </code></pre>
          <div class="result-block">
            <table>
              <thead><tr><th>nom</th><th>prix</th></tr></thead>
              <tbody>
                <tr><td>Cartable</td><td>25.0</td></tr>
                <tr><td>Calculatrice</td><td>15.0</td></tr>
              </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3>Sous-requ√™te dans <code>SELECT</code></h3>
          <p>On peut ins√©rer une sous-requ√™te comme une "valeur calcul√©e".</p>
          <p><strong>Exemple :</strong> afficher chaque produit avec le prix moyen global pour comparaison :</p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> nom, prix,
  (
    <span class="sql-keyword">SELECT</span> <span class="sql-keyword">AVG</span>(prix) 
    <span class="sql-keyword">FROM</span> produits
  ) <span class="sql-keyword">AS</span> prix_moyen
<span class="sql-keyword">FROM</span> produits;
          </code></pre>
          <div class="result-block">
            <table>
              <thead><tr><th>nom</th><th>prix</th><th>prix_moyen</th></tr></thead>
              <tbody>
                <tr><td>Stylo</td><td>1.5</td><td>9.7</td></tr>
                <tr><td>Cahier</td><td>2.0</td><td>9.7</td></tr>
                <tr><td>Cartable</td><td>25.0</td><td>9.7</td></tr>
                <tr><td>Calculatrice</td><td>15.0</td><td>9.7</td></tr>
                <tr><td>Agenda</td><td>5.0</td><td>9.7</td></tr>
              </tbody>
            </table>
          </div>
        </article>
      
        <article>
          <h3>Sous-requ√™te dans <code>FROM</code></h3>
          <p>On peut int√©grer une requ√™te comme une "table temporaire". On lui donne un alias.</p>
          <p><strong>Exemple :</strong> calculer le total d√©pens√© par cat√©gorie :</p>
          <pre><code class="sql">
<span class="sql-keyword">SELECT</span> categorie, total
<span class="sql-keyword">FROM</span> (
  <span class="sql-keyword">SELECT</span> categorie, <span class="sql-keyword">SUM</span>(prix) <span class="sql-keyword">AS</span> total
  <span class="sql-keyword">FROM</span> produits
  <span class="sql-keyword">GROUP BY</span> categorie
) <span class="sql-keyword">AS</span> resume;
          </code></pre>
          <div class="result-block">
            <table>
              <thead><tr><th>categorie</th><th>total</th></tr></thead>
              <tbody>
                <tr><td>Fournitures</td><td>3.5</td></tr>
                <tr><td>Bagagerie</td><td>25.0</td></tr>
                <tr><td>√âlectronique</td><td>15.0</td></tr>
                <tr><td>Papeterie</td><td>5.0</td></tr>
              </tbody>
            </table>
          </div>
        </article>
      
      </section>      

    </main>

  </body>
</html>